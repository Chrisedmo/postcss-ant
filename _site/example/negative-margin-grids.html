<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>negative-margin Grids | postcss-ant üêú</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/postcss-ant/css/style.css">
  </head>
  <body>
    <!--[if IE]>
      <div class="browserupgrade"><p>You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p></div>
    <![endif]-->

    <div class="overlay"></div>

    <button class="sidebar-button">
      <span>
        <span></span>
        <span></span>
        <span></span>
      </span>
    </button>

    <div class="wrap">
      <div class="sidebar">
        <a href="https://github.com/corysimmons/postcss-ant" class="logo">
          <img src="/postcss-ant/img/postcss-ant-logo.svg">
        </a>

        <p>
          A size-getting function that accepts fractions, decimals, fixed numbers, and everything <b>in-between</b>.
        </p>

        <p>
          By the guy who built Jeet and Lost.
        </p>

        <a href="https://github.com/corysimmons/postcss-ant" class="octocat">
          <svg aria-hidden="true" height="28" version="1.1" viewBox="0 0 16 16" width="28"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg>
        </a>

        <nav>
          <h3>Introduction</h3>
          <div class="submenu">
            <a href="/postcss-ant/#what-is-ant">What is ant?</a>
            <a href="/postcss-ant/#installation">Installation</a>
            <a href="/postcss-ant/#api">API</a>
            <a href="/postcss-ant/#postcss-ant-vs-flexbox">postcss-ant vs Flexbox</a>
            <a href="/postcss-ant/#flexboxs-strengths">Flexbox's Strengths</a>
            <a href="/postcss-ant/#why-postcss">Why PostCSS?</a>
            <a href="/postcss-ant/#postcss-calc">postcss-calc</a>
            <a href="/postcss-ant/#why-9999-and-99999999">Why 99.99% and 99.999999?</a>
            <a href="/postcss-ant/#browser-support">Browser Support</a>
          </div>

          <h3>Usage</h3>
          <div class="submenu">
            <a href="/postcss-ant/usage#preprocessors-and-postcss">Preprocessors and PostCSS</a>
            <a href="/postcss-ant/usage#integrations">Integrations</a>
            <a href="/postcss-ant/usage#postcss-cli">postcss-cli</a>
            <a href="/postcss-ant/usage#nodejs">Node.js</a>
            <a href="/postcss-ant/usage#gulp">Gulp</a>
            <a href="/postcss-ant/usage#contribute-your-own-integration">Contribute your own integration</a>
          </div>

          <h3>Examples</h3>
          <div class="submenu">
            <a href="/postcss-ant/example/basic-usage">Basic Usage</a>
            <a href="/postcss-ant/example/nth-grids-and-preprocessor-looping">nth Grids and Preprocessor Looping</a>
            <a href="/postcss-ant/example/negative-margin-grids">negative-margin Grids</a>
            <a href="#">
              Combined with Flexbox
              <span class="coming-soon">
                <span>
                  Coming<br>
                  Soon
                </span>
              </span>
            </a>
            <a href="#">
              Combined with The Grid Layout Spec
              <span class="coming-soon">
                <span>
                  Coming<br>
                  Soon
                </span>
              </span>
            </a>
          </div>
        </nav>
      </div>

      <main>
        <h2 id="negative-margin-grids">negative-margin Grids</h2>

<p>This type of grid is outstanding when you have no idea how many columns dynamic content (like pictures) will span, but if used on everything, you‚Äôll quickly become buried in confusing superfluous <code class="highlighter-rouge">div</code>s that might span several included files (e.g. opening a <code class="highlighter-rouge">&lt;div&gt;</code> in <code class="highlighter-rouge">header.php</code>, closing that same <code class="highlighter-rouge">&lt;div&gt;</code> in <code class="highlighter-rouge">footer.php</code>, all the <code class="highlighter-rouge">&lt;div&gt;</code>s in-between‚Ä¶).</p>

<p>Bootstrap and Foundation are negative-margin grids in the sense they have a wrapping element that applies a negative margin to ‚Äúpull‚Äù the inner content out so its edges line up. They‚Äôre also padding grids (i.e. every column has padding instead of margins between them). Padding grids produce an insane amount of markup if you need background color on your columns, so we‚Äôre going to focus on a margin-based only approach and hope padding grids die.</p>

<p>If we put half a gutter on the left and right of a column, it will have half a gutter pushing in on the sides of a parent element.</p>

<p>Let‚Äôs pass the <code class="highlighter-rouge">negative-margin</code> argument to <code class="highlighter-rouge">ant()</code> and you can see the left and right sides of the grid are pushed in a bit:</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"grid"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"column"</span><span class="nt">&gt;</span>1<span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"column"</span><span class="nt">&gt;</span>2<span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"column"</span><span class="nt">&gt;</span>3<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre>
</div>

<div class="language-scss highlighter-rouge"><pre class="highlight"><code><span class="nc">.grid</span> <span class="p">{</span>
  <span class="k">@include</span> <span class="nd">clearfix</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.column</span> <span class="p">{</span>
  <span class="nl">float</span><span class="p">:</span> <span class="nb">left</span><span class="p">;</span>
  <span class="nl">width</span><span class="p">:</span> <span class="nf">ant</span><span class="p">(</span><span class="m">1</span><span class="o">/</span><span class="m">3</span><span class="o">,</span> <span class="n">negative-margin</span><span class="p">)[</span><span class="m">1</span><span class="p">];</span>
  <span class="nl">margin</span><span class="p">:</span> <span class="m">0</span> <span class="m">15px</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
</div>

<div class="example-loops-3">
  <div class="grid">
    <div class="column">1</div>
    <div class="column">2</div>
    <div class="column">3</div>
  </div>
</div>

<p>By applying a negative margin (hence the name) to each side of <code class="highlighter-rouge">.grid</code>, we can pull the child elements out a bit and make them flush with the rest of the content:</p>

<div class="language-scss highlighter-rouge"><pre class="highlight"><code><span class="nc">.grid</span> <span class="p">{</span>
  <span class="k">@include</span> <span class="nd">clearfix</span><span class="p">;</span>
  <span class="nl">margin</span><span class="p">:</span> <span class="m">0</span> <span class="m">-15px</span><span class="p">;</span> <span class="c1">// should match the column's side margins
</span><span class="p">}</span>

<span class="nc">.column</span> <span class="p">{</span>
  <span class="nl">float</span><span class="p">:</span> <span class="nb">left</span><span class="p">;</span>
  <span class="nl">width</span><span class="p">:</span> <span class="nf">ant</span><span class="p">(</span><span class="m">1</span><span class="o">/</span><span class="m">3</span><span class="o">,</span> <span class="n">negative-margin</span><span class="p">)[</span><span class="m">1</span><span class="p">];</span>
  <span class="nl">margin</span><span class="p">:</span> <span class="m">0</span> <span class="m">15px</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
</div>

<div class="example-loops-4">
  <div class="grid">
    <div class="column">1</div>
    <div class="column">2</div>
    <div class="column">3</div>
  </div>
</div>

<p>You‚Äôll notice the <code class="highlighter-rouge">.grid</code> element is now overhanging everything. If this creates a problem, contain it with <em>another</em> element and apply <code class="highlighter-rouge">overflow: hidden</code> to that element.</p>

<p>So negative-margin grid markup typically looks like this:</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"container"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"row"</span><span class="nt">&gt;</span> <span class="c">&lt;!-- .grid in the previous examples because .row makes me feel like it can only hold 1 row of content --&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"column"</span><span class="nt">&gt;</span>1<span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"column"</span><span class="nt">&gt;</span>2<span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"column"</span><span class="nt">&gt;</span>3<span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre>
</div>

<p>As you nest, you will need to put a row immediately inside of a column like so (in order to pull the columns back out flush again):</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"container"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"row"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"column"</span><span class="nt">&gt;</span>1a<span class="nt">&lt;/div&gt;</span>

    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"column"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"row"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"column"</span><span class="nt">&gt;</span>1b<span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"column"</span><span class="nt">&gt;</span>2b<span class="nt">&lt;/div&gt;</span>
      <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/div&gt;</span>

    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"column"</span><span class="nt">&gt;</span>2a<span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre>
</div>

<p>You‚Äôve probably seen this type of markup before. It‚Äôs unbeatable for when you just want to toss dynamic elements of varying size into an area, but can get pretty bloated quick.</p>

<h4 id="example-spanbasic-irregular-grid-without-countingspan">Example: <span>Basic Irregular Grid without Counting</span></h4>

<p>Let‚Äôs create a really simple irregular grid. Maybe this could be a photo gallery. Let‚Äôs start by making all the images <code class="highlighter-rouge">1/4</code>, then let‚Äôs sprinkle a couple <code class="highlighter-rouge">1/2</code> elements in there.</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"photos"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;figure&gt;</span>1<span class="nt">&lt;/figure&gt;</span>
  <span class="nt">&lt;figure&gt;</span>2<span class="nt">&lt;/figure&gt;</span>
  <span class="nt">&lt;figure&gt;</span>3<span class="nt">&lt;/figure&gt;</span>
  <span class="nt">&lt;figure&gt;</span>4<span class="nt">&lt;/figure&gt;</span>
  <span class="nt">&lt;figure&gt;</span>5<span class="nt">&lt;/figure&gt;</span>
  <span class="nt">&lt;figure&gt;</span>6<span class="nt">&lt;/figure&gt;</span>
  <span class="nt">&lt;figure&gt;</span>7<span class="nt">&lt;/figure&gt;</span>
  <span class="nt">&lt;figure&gt;</span>8<span class="nt">&lt;/figure&gt;</span>
  <span class="nt">&lt;figure&gt;</span>9<span class="nt">&lt;/figure&gt;</span>
  <span class="nt">&lt;figure&gt;</span>10<span class="nt">&lt;/figure&gt;</span>
  <span class="nt">&lt;figure&gt;</span>11<span class="nt">&lt;/figure&gt;</span>
  <span class="nt">&lt;figure&gt;</span>12<span class="nt">&lt;/figure&gt;</span>
  <span class="nt">&lt;figure&gt;</span>13<span class="nt">&lt;/figure&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre>
</div>

<div class="language-scss highlighter-rouge"><pre class="highlight"><code><span class="nv">$gutter</span><span class="p">:</span> <span class="m">2px</span><span class="p">;</span>

<span class="nc">.photos</span> <span class="p">{</span>
  <span class="k">@include</span> <span class="nd">clearfix</span><span class="p">;</span>
  <span class="nl">margin</span><span class="p">:</span> <span class="m">0</span> <span class="o">-</span><span class="nv">$gutter</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">figure</span> <span class="p">{</span>
  <span class="nl">float</span><span class="p">:</span> <span class="nb">left</span><span class="p">;</span>
  <span class="nl">margin</span><span class="p">:</span> <span class="m">0</span> <span class="m">1px</span><span class="p">;</span> <span class="c1">// half of $gutter (1px on each side = 2px between elements = 2px gutter)
</span>  <span class="nl">width</span><span class="p">:</span> <span class="nf">ant</span><span class="p">(</span><span class="m">1</span><span class="o">/</span><span class="m">4</span><span class="o">,</span> <span class="nv">$gutter</span><span class="o">,</span> <span class="n">negative-margin</span><span class="p">)[</span><span class="m">1</span><span class="p">];</span> <span class="c1">// set all the elements to 1/4
</span>
  <span class="k">&amp;</span><span class="nd">:nth-child</span><span class="o">(</span><span class="nt">6</span><span class="o">),</span>
  <span class="k">&amp;</span><span class="nd">:nth-child</span><span class="o">(</span><span class="nt">8</span><span class="o">)</span> <span class="p">{</span>
    <span class="nl">width</span><span class="p">:</span> <span class="nf">ant</span><span class="p">(</span><span class="m">1</span><span class="o">/</span><span class="m">2</span><span class="o">,</span> <span class="nv">$gutter</span><span class="o">,</span> <span class="n">negative-margin</span><span class="p">)[</span><span class="m">1</span><span class="p">];</span> <span class="c1">// cherry pick a couple as 1/2
</span>  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<div class="example-neg-1">
  <div class="photos">
    <figure>1</figure>
    <figure>2</figure>
    <figure>3</figure>
    <figure>4</figure>
    <figure>5</figure>
    <figure>6</figure>
    <figure>7</figure>
    <figure>8</figure>
    <figure>9</figure>
    <figure>10</figure>
    <figure>11</figure>
    <figure>12</figure>
    <figure>13</figure>
  </div>
</div>

<p>Big deal. Grid systems have been doing this kind of stuff forever. Fair enough. Let‚Äôs complicate things a bit.</p>

<h4 id="example-spanmosaic-layout-with-fillersspan">Example: <span>Mosaic Layout with Fillers</span></h4>

<p><em>Author‚Äôs Note:</em> Skip to the next example if you‚Äôre not into tinkering around with cool stuff and just want the best solution for this kind of layout.</p>

<div class="language-scss highlighter-rouge"><pre class="highlight"><code><span class="nt">figure</span> <span class="p">{</span>
  <span class="nl">float</span><span class="p">:</span> <span class="nb">left</span><span class="p">;</span>
  <span class="nl">margin</span><span class="p">:</span> <span class="m">0</span> <span class="m">1px</span><span class="p">;</span>

  <span class="nv">$sizes</span><span class="p">:</span> <span class="m">1</span><span class="o">/</span><span class="m">7</span> <span class="m">1</span><span class="o">/</span><span class="m">5</span> <span class="m">1</span><span class="o">/</span><span class="m">3</span><span class="p">;</span>

  <span class="k">@for</span> <span class="nv">$i</span> <span class="n">in</span> <span class="m">1</span> <span class="ow">through</span> <span class="m">3</span> <span class="p">{</span>
    <span class="k">&amp;</span><span class="nd">:nth-child</span><span class="o">(</span><span class="nt">3n</span> <span class="o">+</span> <span class="err">$</span><span class="nt">i</span><span class="o">)</span> <span class="p">{</span>
      <span class="nl">width</span><span class="p">:</span> <span class="nf">ant</span><span class="p">(</span><span class="nv">$sizes</span><span class="o">,</span> <span class="nv">$gutter</span><span class="o">,</span> <span class="n">negative-margin</span><span class="p">)[</span><span class="nv">$i</span><span class="p">];</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<div class="example-neg-2">
  <div class="photos">
    <figure>1</figure>
    <figure>2</figure>
    <figure>3</figure>
    <figure>4</figure>
    <figure>5</figure>
    <figure>6</figure>
    <figure>7</figure>
    <figure>8</figure>
    <figure>9</figure>
    <figure>10</figure>
    <figure>11</figure>
    <figure>12</figure>
    <figure>13</figure>
  </div>
</div>

<p>Okay, now it looks a bit cooler, but elements aren‚Äôt aligning flush with the right side because the rows don‚Äôt add up to <code class="highlighter-rouge">100%</code>.</p>

<p>Well‚Ä¶ lets pick some elements out to fill in the gaps. Let‚Äôs start with <code class="highlighter-rouge">figure</code> ‚Äú4‚Äù.</p>

<p>What we‚Äôre doing is saying ‚ÄúHere are all the sizes on the board [1-3]. Now auto fill the remainder [4].‚Äù</p>

<div class="language-scss highlighter-rouge"><pre class="highlight"><code><span class="nt">figure</span> <span class="p">{</span>
  <span class="nl">float</span><span class="p">:</span> <span class="nb">left</span><span class="p">;</span>
  <span class="nl">margin</span><span class="p">:</span> <span class="m">0</span> <span class="m">1px</span><span class="p">;</span>

  <span class="nv">$sizes</span><span class="p">:</span> <span class="m">1</span><span class="o">/</span><span class="m">7</span> <span class="m">1</span><span class="o">/</span><span class="m">5</span> <span class="m">1</span><span class="o">/</span><span class="m">3</span><span class="p">;</span>

  <span class="k">@for</span> <span class="nv">$i</span> <span class="n">in</span> <span class="m">1</span> <span class="ow">through</span> <span class="m">3</span> <span class="p">{</span>
    <span class="k">&amp;</span><span class="nd">:nth-child</span><span class="o">(</span><span class="nt">3n</span> <span class="o">+</span> <span class="err">$</span><span class="nt">i</span><span class="o">)</span> <span class="p">{</span>
      <span class="nl">width</span><span class="p">:</span> <span class="nf">ant</span><span class="p">(</span><span class="nv">$sizes</span><span class="o">,</span> <span class="nv">$gutter</span><span class="o">,</span> <span class="n">negative-margin</span><span class="p">)[</span><span class="nv">$i</span><span class="p">];</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="k">&amp;</span><span class="nd">:nth-child</span><span class="o">(</span><span class="nt">4</span><span class="o">)</span> <span class="p">{</span>
    <span class="nl">width</span><span class="p">:</span> <span class="nf">ant</span><span class="p">(</span><span class="nv">$sizes</span> <span class="nb">auto</span><span class="o">,</span> <span class="nv">$gutter</span><span class="o">,</span> <span class="n">negative-margin</span><span class="p">)[</span><span class="m">4</span><span class="p">];</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<div class="example-neg-3">
  <div class="photos">
    <figure>1</figure>
    <figure>2</figure>
    <figure>3</figure>
    <figure>4</figure>
    <figure>5</figure>
    <figure>6</figure>
    <figure>7</figure>
    <figure>8</figure>
    <figure>9</figure>
    <figure>10</figure>
    <figure>11</figure>
    <figure>12</figure>
    <figure>13</figure>
  </div>
</div>

<p>It looks like magic since <code class="highlighter-rouge">$sizes auto</code> happens to work in this scenario, but let‚Äôs pull the sizes out of the variable so we can really see what‚Äôs going on for this next one.</p>

<p>Now let‚Äôs get ‚Äú6‚Äù to fill the void. We have elements 5, 6, 7, 8, on that row. So those 4 elements need to add up to 100%.</p>

<ul>
  <li>If we inspect <code class="highlighter-rouge">figure</code> 5 we can see it is getting the 1/5. So let‚Äôs make that the first size in our list.</li>
  <li>6 <em>should</em> be 1/3, so let‚Äôs add that to our list.</li>
  <li>7 is 1/7. Add it to the list.</li>
  <li>And 8 comes back around to 1/5. Add it.</li>
</ul>

<p>We should now have <code class="highlighter-rouge">ant(1/5 1/3 1/7 1/5)</code>.</p>

<p>If we add all those together we get <code class="highlighter-rouge">1/5 + 1/3 + 1/7 + 1/5</code> which is like‚Ä¶ some sort of fraction thingy that‚Äôs close-ish to <code class="highlighter-rouge">1/1</code> (what we‚Äôre looking for).</p>

<p>But the point is, we still need that last little bit of space. If we toss an <code class="highlighter-rouge">auto</code> on the end, it‚Äôll get that last bit of space, <strong>but</strong> it won‚Äôt combine it with the <code class="highlighter-rouge">1/3</code> our 6th element already has.</p>

<p>What we need to do, is replace the <code class="highlighter-rouge">1/3</code> with <code class="highlighter-rouge">auto</code> and fetch that. Our function should look like this <code class="highlighter-rouge">ant(1/5 auto 1/7 1/5, $gutter, negative-margin)[2]</code>.</p>

<div class="language-scss highlighter-rouge"><pre class="highlight"><code><span class="nt">figure</span> <span class="p">{</span>
  <span class="nl">float</span><span class="p">:</span> <span class="nb">left</span><span class="p">;</span>
  <span class="nl">margin</span><span class="p">:</span> <span class="m">0</span> <span class="m">1px</span><span class="p">;</span>

  <span class="k">@for</span> <span class="nv">$i</span> <span class="n">in</span> <span class="m">1</span> <span class="ow">through</span> <span class="m">3</span> <span class="p">{</span>
    <span class="k">&amp;</span><span class="nd">:nth-child</span><span class="o">(</span><span class="nt">3n</span> <span class="o">+</span> <span class="err">$</span><span class="nt">i</span><span class="o">)</span> <span class="p">{</span>
      <span class="nl">width</span><span class="p">:</span> <span class="nf">ant</span><span class="p">(</span><span class="m">1</span><span class="o">/</span><span class="m">7</span> <span class="m">1</span><span class="o">/</span><span class="m">5</span> <span class="m">1</span><span class="o">/</span><span class="m">3</span><span class="o">,</span> <span class="nv">$gutter</span><span class="o">,</span> <span class="n">negative-margin</span><span class="p">)[</span><span class="nv">$i</span><span class="p">];</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="k">&amp;</span><span class="nd">:nth-child</span><span class="o">(</span><span class="nt">4</span><span class="o">)</span> <span class="p">{</span>
    <span class="nl">width</span><span class="p">:</span> <span class="nf">ant</span><span class="p">(</span><span class="m">1</span><span class="o">/</span><span class="m">7</span> <span class="m">1</span><span class="o">/</span><span class="m">5</span> <span class="m">1</span><span class="o">/</span><span class="m">3</span> <span class="nb">auto</span><span class="o">,</span> <span class="nv">$gutter</span><span class="o">,</span> <span class="n">negative-margin</span><span class="p">)[</span><span class="m">4</span><span class="p">];</span>
  <span class="p">}</span>

  <span class="k">&amp;</span><span class="nd">:nth-child</span><span class="o">(</span><span class="nt">6</span><span class="o">)</span> <span class="p">{</span>
    <span class="nl">width</span><span class="p">:</span> <span class="nf">ant</span><span class="p">(</span><span class="m">1</span><span class="o">/</span><span class="m">5</span> <span class="nb">auto</span> <span class="m">1</span><span class="o">/</span><span class="m">7</span> <span class="m">1</span><span class="o">/</span><span class="m">5</span><span class="o">,</span> <span class="nv">$gutter</span><span class="o">,</span> <span class="n">negative-margin</span><span class="p">)[</span><span class="m">2</span><span class="p">];</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<div class="example-neg-4">
  <div class="photos">
    <figure>1</figure>
    <figure>2</figure>
    <figure>3</figure>
    <figure>4</figure>
    <figure>5</figure>
    <figure>6</figure>
    <figure>7</figure>
    <figure>8</figure>
    <figure>9</figure>
    <figure>10</figure>
    <figure>11</figure>
    <figure>12</figure>
    <figure>13</figure>
  </div>
</div>

<p>Let‚Äôs get the 10th <code class="highlighter-rouge">figure</code> next. Same thing. Figure out what elements are on its row. Add them to a sizes list. Replace the 10‚Äôs size with the keyword <code class="highlighter-rouge">auto</code> and fetch that index:</p>

<div class="language-scss highlighter-rouge"><pre class="highlight"><code><span class="nt">figure</span> <span class="p">{</span>
  <span class="nl">float</span><span class="p">:</span> <span class="nb">left</span><span class="p">;</span>
  <span class="nl">margin</span><span class="p">:</span> <span class="m">0</span> <span class="m">1px</span><span class="p">;</span>

  <span class="k">@for</span> <span class="nv">$i</span> <span class="n">in</span> <span class="m">1</span> <span class="ow">through</span> <span class="m">3</span> <span class="p">{</span>
    <span class="k">&amp;</span><span class="nd">:nth-child</span><span class="o">(</span><span class="nt">3n</span> <span class="o">+</span> <span class="err">$</span><span class="nt">i</span><span class="o">)</span> <span class="p">{</span>
      <span class="nl">width</span><span class="p">:</span> <span class="nf">ant</span><span class="p">(</span><span class="m">1</span><span class="o">/</span><span class="m">7</span> <span class="m">1</span><span class="o">/</span><span class="m">5</span> <span class="m">1</span><span class="o">/</span><span class="m">3</span><span class="o">,</span> <span class="nv">$gutter</span><span class="o">,</span> <span class="n">negative-margin</span><span class="p">)[</span><span class="nv">$i</span><span class="p">];</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="k">&amp;</span><span class="nd">:nth-child</span><span class="o">(</span><span class="nt">4</span><span class="o">)</span> <span class="p">{</span>
    <span class="nl">width</span><span class="p">:</span> <span class="nf">ant</span><span class="p">(</span><span class="m">1</span><span class="o">/</span><span class="m">7</span> <span class="m">1</span><span class="o">/</span><span class="m">5</span> <span class="m">1</span><span class="o">/</span><span class="m">3</span> <span class="nb">auto</span><span class="o">,</span> <span class="nv">$gutter</span><span class="o">,</span> <span class="n">negative-margin</span><span class="p">)[</span><span class="m">4</span><span class="p">];</span>
  <span class="p">}</span>

  <span class="k">&amp;</span><span class="nd">:nth-child</span><span class="o">(</span><span class="nt">6</span><span class="o">)</span> <span class="p">{</span>
    <span class="nl">width</span><span class="p">:</span> <span class="nf">ant</span><span class="p">(</span><span class="m">1</span><span class="o">/</span><span class="m">5</span> <span class="nb">auto</span> <span class="m">1</span><span class="o">/</span><span class="m">7</span> <span class="m">1</span><span class="o">/</span><span class="m">5</span><span class="o">,</span> <span class="nv">$gutter</span><span class="o">,</span> <span class="n">negative-margin</span><span class="p">)[</span><span class="m">2</span><span class="p">];</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<div class="example-neg-5">
  <div class="photos">
    <figure>1</figure>
    <figure>2</figure>
    <figure>3</figure>
    <figure>4</figure>
    <figure>5</figure>
    <figure>6</figure>
    <figure>7</figure>
    <figure>8</figure>
    <figure>9</figure>
    <figure>10</figure>
    <figure>11</figure>
    <figure>12</figure>
    <figure>13</figure>
  </div>
</div>

<p>You can get that last row on your own as homework.</p>

<h4 id="example-spanflexboxspan">Example: <span>Flexbox</span></h4>

<p>The very astute will have noticed something long ago. We could have been using flexbox instead of manually figuring out these <code class="highlighter-rouge">auto</code> sizes. Indeed, and it‚Äôs particularly good at these kinds of dynamic ‚Äúfiller‚Äù widths. I just wanted to demonstrate that technique (aside from being neat, who knows when it might come in handy?).</p>

<div class="language-scss highlighter-rouge"><pre class="highlight"><code><span class="nc">.photos</span> <span class="p">{</span>
  <span class="nl">display</span><span class="p">:</span> <span class="n">flex</span><span class="p">;</span>
  <span class="nl">flex-wrap</span><span class="p">:</span> <span class="n">wrap</span><span class="p">;</span>
  <span class="nl">margin</span><span class="p">:</span> <span class="m">0</span> <span class="o">-</span><span class="nv">$gutter</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">figure</span> <span class="p">{</span>
  <span class="nl">margin</span><span class="p">:</span> <span class="m">0</span> <span class="m">1px</span><span class="p">;</span>

  <span class="k">@for</span> <span class="nv">$i</span> <span class="n">in</span> <span class="m">1</span> <span class="ow">through</span> <span class="m">3</span> <span class="p">{</span>
    <span class="k">&amp;</span><span class="nd">:nth-child</span><span class="o">(</span><span class="nt">3n</span> <span class="o">+</span> <span class="err">$</span><span class="nt">i</span><span class="o">)</span> <span class="p">{</span>
      <span class="nl">width</span><span class="p">:</span> <span class="nf">ant</span><span class="p">(</span><span class="m">1</span><span class="o">/</span><span class="m">7</span> <span class="m">1</span><span class="o">/</span><span class="m">5</span> <span class="m">1</span><span class="o">/</span><span class="m">3</span><span class="o">,</span> <span class="nv">$gutter</span><span class="o">,</span> <span class="n">negative-margin</span><span class="p">)[</span><span class="nv">$i</span><span class="p">];</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="k">&amp;</span><span class="nd">:nth-child</span><span class="o">(</span><span class="nt">4</span><span class="o">),</span>
  <span class="k">&amp;</span><span class="nd">:nth-child</span><span class="o">(</span><span class="nt">6</span><span class="o">),</span>
  <span class="k">&amp;</span><span class="nd">:nth-child</span><span class="o">(</span><span class="nt">10</span><span class="o">),</span>
  <span class="k">&amp;</span><span class="nd">:nth-child</span><span class="o">(</span><span class="nt">12</span><span class="o">)</span> <span class="p">{</span>
    <span class="nl">flex-grow</span><span class="p">:</span> <span class="m">1</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<div class="example-neg-6">
  <div class="photos">
    <figure>1</figure>
    <figure>2</figure>
    <figure>3</figure>
    <figure>4</figure>
    <figure>5</figure>
    <figure>6</figure>
    <figure>7</figure>
    <figure>8</figure>
    <figure>9</figure>
    <figure>10</figure>
    <figure>11</figure>
    <figure>12</figure>
    <figure>13</figure>
  </div>
</div>

<p>Notice how well flexbox (fillers and style elimination) and ant (sizes and gutter math) play together at the right times.</p>

<p>The flexibility of negative-margin grids might tempt you to just use them for everything, but I promise you littering <code class="highlighter-rouge">containers</code> and <code class="highlighter-rouge">rows</code> throughout a larger codebase is going to cause a lot more headaches than having to remember 2 types of grids and their uses.</p>

<p>Mix and match between nth and negative-margin grids throughout every project. Use the right tool for the job for ease-of-use and the minimal amount of bloat.</p>

      </main>
    </div>

    <script src="/postcss-ant/js/lib/zepto.min.js"></script>
    <script src="/postcss-ant/js/main.js"></script>
  </body>
</html>
