* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  background: rgba(0, 0, 255, 0.05);
  outline: 1px solid rgba(0, 0, 255, 0.1);
  outline-offset: -1px;
}

:root {
  padding: 30px;
  font-family: sans-serif;
  line-height: 50px;
  text-align: center;
  color: rgba(0, 0, 255, 0.4);
}

section {
  display: flex;
  flex-wrap: wrap;
}

section > *:nth-child(n) {
  width: auto;
  margin-left: 30px;
}

section > *:nth-child(5n + 1),
section > *:nth-child(5n + 2),
section > *:nth-child(5n + 3) {
  width: calc(99.99% * 1/3 - (30px - 30px * 1/3));
}

section > *:nth-child(5n + 4),
section > *:nth-child(5n + 5) {
  width: calc(99.99% * 1/2 - (30px - 30px * 1/2));
}

section > *:nth-child(5n + 1),
section > *:nth-child(5n + 4) {
  margin-left: 0;
}

@media (min-width: 500px) {
  section {
    display: flex;
    flex-wrap: wrap;
  }
  section > *:nth-child(n) {
    width: auto;
    height: auto;
    margin-top: 0;
    margin-left: 30px;
  }
  section > *:nth-child(n + 3) {
    margin-top: 30px;
  }
  section > *:nth-child(5n + 1),
  section > *:nth-child(5n + 2) {
    width: calc(99.99% * 1/2 - (30px - 30px * 1/2));
  }
  section > *:nth-child(5n + 3),
  section > *:nth-child(5n + 4),
  section > *:nth-child(5n + 5) {
    width: calc(99.99% * 1/3 - (30px - 30px * 1/3));
  }
  section > *:nth-child(5n + 1),
  section > *:nth-child(5n + 3) {
    margin-left: 0;
  }
  section > *:nth-child(5n + 1),
  section > *:nth-child(5n + 2) {
    height: 50px;
  }
  section > *:nth-child(5n + 3),
  section > *:nth-child(5n + 4),
  section > *:nth-child(5n + 5) {
    height: 150px;
  }
}

@media (min-width: 800px) {
  section {
    display: flex;
    flex-wrap: wrap;
  }
  section > *:nth-child(n) {
    width: auto;
    height: auto;
    margin-top: 0;
    margin-left: 5px;
  }
  section > *:nth-child(n + 2) {
    margin-top: 5px;
  }
  section > *:nth-child(1n + 1) {
    width: 100%;
  }
  section > *:nth-child(1n + 1) {
    margin-left: 0;
  }
  section > *:nth-child(3n + 1) {
    height: 100px;
  }
  section > *:nth-child(3n + 2) {
    height: 200px;
  }
  section > *:nth-child(3n + 3) {
    height: 300px;
  }
}

@media (min-width: 1100px) {
  section > *:nth-child(n) {
    width: auto;
    margin-left: 0;
  }
  section > *:nth-child(n) {
    height: auto;
    margin-top: 0;
  }
}

@media (min-width: 1300px) {
  section {
    display: flex;
    flex-wrap: wrap;
  }
  section > *:nth-child(n) {
    width: auto;
    height: auto;
    margin-top: 0;
    margin-left: 15px;
  }
  section > *:nth-child(n + 5) {
    margin-top: 10px;
  }
  section > *:nth-child(10n + 1),
  section > *:nth-child(10n + 2),
  section > *:nth-child(10n + 3),
  section > *:nth-child(10n + 4) {
    width: calc(99.99% * 1/4 - (15px - 15px * 1/4));
  }
  section > *:nth-child(10n + 5),
  section > *:nth-child(10n + 6),
  section > *:nth-child(10n + 7),
  section > *:nth-child(10n + 8),
  section > *:nth-child(10n + 9),
  section > *:nth-child(10n + 10) {
    width: calc(99.99% * 1/6 - (15px - 15px * 1/6));
  }
  section > *:nth-child(10n + 1),
  section > *:nth-child(10n + 5) {
    margin-left: 0;
  }
  section > *:nth-child(1n + 1) {
    height: 70px;
  }
}
